<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jump to Website</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        background-color: #f0f0f0;
        padding: 20px;
      }

      .container {
        background: white;
        padding: 2rem;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        text-align: center;
        width: 100%;
        max-width: 400px;
        box-sizing: border-box;
      }

      input {
        width: 100%;
        padding: 10px;
        margin: 10px 0;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-size: 16px;
        box-sizing: border-box;
      }

      button {
        width: 100%;
        padding: 10px 20px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 4px;
        font-size: 16px;
        cursor: pointer;
        box-sizing: border-box;
      }

      button:hover {
        background-color: #0056b3;
      }

      h1 {
        margin-top: 0;
        color: #333;
        font-size: 1.5rem;
      }

      .quick-links {
        margin-top: 1.5rem;
        text-align: left;
      }

      .quick-links h3 {
        margin: 0 0 0.5rem 0;
        color: #666;
        font-size: 0.9rem;
        text-align: center;
      }

      .link-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .link-item {
        margin: 0.5rem 0;
      }

      .link-item a {
        display: block;
        padding: 8px 12px;
        background-color: #f8f9fa;
        color: #007bff;
        text-decoration: none;
        border-radius: 4px;
        font-size: 14px;
        transition: background-color 0.2s;
      }

      .link-item a:hover {
        background-color: #e9ecef;
        color: #0056b3;
      }

      /* Query parameter management styles */
      .query-section {
        margin-top: 2rem;
        border-top: 1px solid #e0e0e0;
        padding-top: 1.5rem;
      }

      .query-section h3 {
        margin: 0 0 1rem 0;
        color: #333;
        font-size: 1.1rem;
      }

      .query-table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 1rem;
      }

      .query-table th,
      .query-table td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #e0e0e0;
      }

      .query-table th {
        background-color: #f8f9fa;
        font-weight: bold;
      }

      .query-actions {
        display: flex;
        gap: 5px;
      }

      .query-actions button {
        width: auto;
        padding: 4px 8px;
        font-size: 12px;
      }

      .add-query-form {
        display: flex;
        gap: 10px;
        margin-bottom: 1rem;
      }

      .add-query-form input {
        flex: 1;
        margin: 0;
      }

      .add-query-form button {
        width: auto;
        margin: 0;
      }

      /* Device info styles */
      .device-info {
        background-color: #f8f9fa;
        padding: 1rem;
        border-radius: 4px;
        margin-bottom: 1rem;
        font-size: 14px;
      }

      .device-info h4 {
        margin: 0 0 0.5rem 0;
        color: #666;
      }

      .device-info-item {
        margin: 0.25rem 0;
      }

      /* Mobile responsive styles */
      @media (max-width: 480px) {
        body {
          padding: 10px;
        }

        .container {
          padding: 1.5rem;
          border-radius: 6px;
        }

        h1 {
          font-size: 1.25rem;
          margin-bottom: 1rem;
        }

        input {
          font-size: 14px;
          padding: 8px;
        }

        button {
          font-size: 14px;
          padding: 8px 16px;
        }

        .quick-links {
          margin-top: 1rem;
        }

        .link-item a {
          font-size: 13px;
          padding: 6px 10px;
        }
      }
    </style>
  </head>

  <body>
    <div class="container">
      <h1>Jump to Website</h1>
      <input
        type="text"
        id="urlInput"
        placeholder="Enter website URL (e.g., https://example.com)"
      />
      <br />
      <button onclick="jumpToWebsite()">Go</button>

      <div class="quick-links">
        <h3>Quick Links</h3>
        <ul class="link-list">
          <li class="link-item">
            <a href="http://192.168.0.116:3000" target="_blank" rel="noopener noreferrer">3000</a>
          </li>
          <li class="link-item">
            <a href="http://192.168.0.116:3333" target="_blank" rel="noopener noreferrer">3333</a>
          </li>
          <li class="link-item">
            <a href="http://192.168.0.116:5173" target="_blank" rel="noopener noreferrer">5173</a>
          </li>
        </ul>
      </div>

      <!-- Device Information Section -->
      <div class="device-info">
        <h4>Device Information</h4>
        <div id="deviceInfo">
          <div class="device-info-item">Loading device information...</div>
        </div>
      </div>

      <!-- Query Parameter Management Section -->
      <div class="query-section">
        <h3>URL Query Parameters</h3>

        <!-- Add Query Form -->
        <div class="add-query-form">
          <input type="text" id="queryKeyInput" placeholder="Parameter key" />
          <input type="text" id="queryValueInput" placeholder="Parameter value" />
          <button onclick="addQueryParam()">Add</button>
        </div>

        <!-- Query Parameters Table -->
        <table class="query-table">
          <thead>
            <tr>
              <th>Key</th>
              <th>Value</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="queryTableBody">
            <tr>
              <td colspan="3" style="text-align: center">No query parameters</td>
            </tr>
          </tbody>
        </table>

        <!-- Jump with Query Parameters -->
        <button onclick="jumpWithQueryParams()">Jump with Query Parameters</button>
      </div>
    </div>

    <script>
      // Global variables
      let queryParams = new Map();

      // Initialize on page load
      document.addEventListener('DOMContentLoaded', function () {
        parseCurrentQueryParams();
        displayDeviceInfo();
        renderQueryTable();
      });

      // Parse current URL query parameters
      function parseCurrentQueryParams() {
        const urlParams = new URLSearchParams(window.location.search);
        queryParams.clear();

        for (const [key, value] of urlParams) {
          queryParams.set(key, value);
        }
      }

      // Display device information
      function displayDeviceInfo() {
        const deviceInfoDiv = document.getElementById('deviceInfo');
        const info = [
          `User Agent: ${navigator.userAgent}`,
          `Platform: ${navigator.platform}`,
          `Language: ${navigator.language}`,
          `Screen: ${screen.width}x${screen.height}`,
          `Viewport: ${window.innerWidth}x${window.innerHeight}`,
          `Touch Support: ${'ontouchstart' in window ? 'Yes' : 'No'}`,
          `WebView: ${navigator.userAgent.includes('WebView') ? 'Yes' : 'No'}`,
          `Mobile: ${/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ? 'Yes' : 'No'}`,
        ];

        deviceInfoDiv.innerHTML = info
          .map(item => `<div class="device-info-item">${item}</div>`)
          .join('');
      }

      // Render query parameters table
      function renderQueryTable() {
        const tableBody = document.getElementById('queryTableBody');

        if (queryParams.size === 0) {
          tableBody.innerHTML =
            '<tr><td colspan="3" style="text-align: center;">No query parameters</td></tr>';
          return;
        }

        tableBody.innerHTML = Array.from(queryParams.entries())
          .map(
            ([key, value], index) => `
                <tr>
                    <td>${escapeHtml(key)}</td>
                    <td>${escapeHtml(value)}</td>
                    <td>
                        <div class="query-actions">
                            <button onclick="editQueryParam(${index})">Edit</button>
                            <button onclick="deleteQueryParam(${index})">Delete</button>
                        </div>
                    </td>
                </tr>
            `
          )
          .join('');
      }

      // Add new query parameter
      function addQueryParam() {
        const keyInput = document.getElementById('queryKeyInput');
        const valueInput = document.getElementById('queryValueInput');

        const key = keyInput.value.trim();
        const value = valueInput.value.trim();

        if (!key) {
          alert('Please enter a parameter key');
          return;
        }

        queryParams.set(key, value);
        keyInput.value = '';
        valueInput.value = '';
        renderQueryTable();
      }

      // Edit query parameter
      function editQueryParam(index) {
        const entries = Array.from(queryParams.entries());
        const [key, value] = entries[index];

        const newKey = prompt('Edit parameter key:', key);
        if (newKey === null) return;

        const newValue = prompt('Edit parameter value:', value);
        if (newValue === null) return;

        // Remove old entry and add new one
        queryParams.delete(key);
        queryParams.set(newKey.trim(), newValue.trim());
        renderQueryTable();
      }

      // Delete query parameter
      function deleteQueryParam(index) {
        const entries = Array.from(queryParams.entries());
        const [key] = entries[index];

        if (confirm(`Delete parameter "${key}"?`)) {
          queryParams.delete(key);
          renderQueryTable();
        }
      }

      // Jump to website with query parameters
      function jumpWithQueryParams() {
        const url = document.getElementById('urlInput').value;
        if (!url) {
          alert('Please enter a URL');
          return;
        }

        // Format URL
        let formattedUrl = url;
        if (!url.startsWith('http://') && !url.startsWith('https://')) {
          formattedUrl = 'https://' + url;
        }

        // Add query parameters
        if (queryParams.size > 0) {
          const urlObj = new URL(formattedUrl);
          queryParams.forEach((value, key) => {
            urlObj.searchParams.set(key, value);
          });
          formattedUrl = urlObj.toString();
        }

        window.location.href = formattedUrl;
      }

      // Original jump function (preserved)
      function jumpToWebsite() {
        const url = document.getElementById('urlInput').value;
        if (url) {
          // Add https:// if not present
          let formattedUrl = url;
          if (!url.startsWith('http://') && !url.startsWith('https://')) {
            formattedUrl = 'https://' + url;
          }
          window.location.href = formattedUrl;
        } else {
          alert('Please enter a URL');
        }
      }

      // Utility function to escape HTML
      function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
      }

      // Allow Enter key to trigger the jump
      document.getElementById('urlInput').addEventListener('keypress', function (event) {
        if (event.key === 'Enter') {
          jumpToWebsite();
        }
      });

      // Allow Enter key in query key input to add parameter
      document.getElementById('queryKeyInput').addEventListener('keypress', function (event) {
        if (event.key === 'Enter') {
          document.getElementById('queryValueInput').focus();
        }
      });

      // Allow Enter key in query value input to add parameter
      document.getElementById('queryValueInput').addEventListener('keypress', function (event) {
        if (event.key === 'Enter') {
          addQueryParam();
        }
      });
    </script>
  </body>
</html>
